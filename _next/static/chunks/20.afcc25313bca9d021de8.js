(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"1iKp":function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");a.default=l},"2wwy":function(e,a,t){e.exports=t("nhzr")},As0B:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var r=t("wx14"),n=t("q1tI"),l=t("HR5l");function o(e,a){var t=n.memo(n.forwardRef((function(a,t){return n.createElement(l.a,Object(r.a)({},a,{ref:t}),e)})));return t.muiName=l.a.muiName,t}},E8gZ:function(e,a,t){var r=t("jmDH"),n=t("w6GO"),l=t("NsO/"),o=t("NV0k").f;e.exports=function(e){return function(a){for(var t,c=l(a),i=n(c),s=i.length,d=0,u=[];s>d;)t=i[d++],r&&!o.call(c,t)||u.push(e?[t,c[t]]:c[t]);return u}}},ELn9:function(e,a,t){"use strict";t.r(a);var r=t("q1tI"),n=t.n(r),l=t("kKAo"),o=t("dfam"),c=t("JrkS"),i=t("hlFM"),s=t("ofer"),d=t("/MKj"),u=t("9Jkg"),f=t.n(u),m=t("2wwy"),p=t.n(m),v=t("nOHt"),b=t.n(v),h=t("tRbT"),g=t("vYYK"),y=t("p0XB"),O=t.n(y);var j=t("XXOK"),w=t.n(j),N=t("yLu3"),x=t.n(N);function E(e,a){return function(e){if(O()(e))return e}(e)||function(e,a){if(x()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],r=!0,n=!1,l=void 0;try{for(var o,c=w()(e);!(r=(o=c.next()).done)&&(t.push(o.value),!a||t.length!==a);r=!0);}catch(i){n=!0,l=i}finally{try{r||null==c.return||c.return()}finally{if(n)throw l}}return t}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=t("R/WZ"),M=t("iuhU"),R=t("wx14"),k=t("Ff2n"),z=(t("17x9"),t("H2TA")),C=r.forwardRef((function(e,a){var t=e.classes,n=e.className,o=e.raised,c=void 0!==o&&o,i=Object(k.a)(e,["classes","className","raised"]);return r.createElement(l.a,Object(R.a)({className:Object(M.a)(t.root,n),elevation:c?8:1,ref:a},i))})),T=Object(z.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(C),I=r.forwardRef((function(e,a){var t=e.action,n=e.avatar,l=e.classes,o=e.className,c=e.component,i=void 0===c?"div":c,d=e.disableTypography,u=void 0!==d&&d,f=e.subheader,m=e.subheaderTypographyProps,p=e.title,v=e.titleTypographyProps,b=Object(k.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),h=p;null==h||h.type===s.a||u||(h=r.createElement(s.a,Object(R.a)({variant:n?"body2":"h5",className:l.title,component:"span",display:"block"},v),h));var g=f;return null==g||g.type===s.a||u||(g=r.createElement(s.a,Object(R.a)({variant:n?"body2":"body1",className:l.subheader,color:"textSecondary",component:"span",display:"block"},m),g)),r.createElement(i,Object(R.a)({className:Object(M.a)(l.root,o),ref:a},b),n&&r.createElement("div",{className:l.avatar},n),r.createElement("div",{className:l.content},h,g),t&&r.createElement("div",{className:l.action},t))})),q=Object(z.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(I),P=["video","audio","picture","iframe","img"],L=r.forwardRef((function(e,a){var t=e.children,n=e.classes,l=e.className,o=e.component,c=void 0===o?"div":o,i=e.image,s=e.src,d=e.style,u=Object(k.a)(e,["children","classes","className","component","image","src","style"]),f=-1!==P.indexOf(c),m=!f&&i?Object(R.a)({backgroundImage:'url("'.concat(i,'")')},d):d;return r.createElement(c,Object(R.a)({className:Object(M.a)(n.root,l,f&&n.media,-1!=="picture img".indexOf(c)&&n.img),ref:a,style:m,src:f?i||s:void 0},u),t)})),_=Object(z.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(L),A=r.forwardRef((function(e,a){var t=e.classes,n=e.className,l=e.component,o=void 0===l?"div":l,c=Object(k.a)(e,["classes","className","component"]);return r.createElement(o,Object(R.a)({className:Object(M.a)(t.root,n),ref:a},c))})),F=Object(z.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(A),H=r.forwardRef((function(e,a){var t=e.disableSpacing,n=void 0!==t&&t,l=e.classes,o=e.className,c=Object(k.a)(e,["disableSpacing","classes","className"]);return r.createElement("div",Object(R.a)({className:Object(M.a)(l.root,o,!n&&l.spacing),ref:a},c))})),J=Object(z.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(H),D=t("As0B"),V=Object(D.a)(r.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var K=r.forwardRef((function(e,a){var t=e.alt,n=e.children,l=e.classes,o=e.className,c=e.component,i=void 0===c?"div":c,s=e.imgProps,d=e.sizes,u=e.src,f=e.srcSet,m=e.variant,p=void 0===m?"circle":m,v=Object(k.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,h=function(e){var a=e.src,t=e.srcSet,n=r.useState(!1),l=n[0],o=n[1];return r.useEffect((function(){if(a||t){o(!1);var e=!0,r=new Image;return r.src=a,r.srcSet=t,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[a,t]),l}({src:u,srcSet:f}),g=u||f,y=g&&"error"!==h;return b=y?r.createElement("img",Object(R.a)({alt:t,src:u,srcSet:f,sizes:d,className:l.img},s)):null!=n?n:g&&t?t[0]:r.createElement(V,{className:l.fallback}),r.createElement(i,Object(R.a)({className:Object(M.a)(l.root,l.system,l[p],o,!y&&l.colorDefault),ref:a},v),b)})),Z=Object(z.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(K),U=t("PsDL"),W=t("dl/7"),X=t("z1+X"),B=t.n(X),Y=t("qlJ3"),G=t.n(Y),Q=t("1iKp"),$=t.n(Q),ee=t("ZuSV"),ae=t.n(ee),te=t("MPUk"),re=t.n(te),ne=t("FrwU"),le=t.n(ne),oe=n.a.createElement,ce=Object(S.a)((function(e){return{card:{maxWidth:345,margin:"0 auto"},media:{height:0,paddingTop:"56.25%"},desc:{height:95,overflow:"hidden"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:W.a[500]},btnLeft:{justifyContent:"flex-start",flexGrow:1,"& svg":{color:e.palette.primary.dark}}}})),ie=function(e){var a=ce(),t=e.tale,r=e.expandable,l=e.handleEdit,o=e.handleDelete,c=e.handleReadTale,i=E(n.a.useState(!1),2),d=i[0],u=i[1];return oe(T,{className:a.card},oe(q,{avatar:oe(Z,{"aria-label":"recipe",className:a.avatar},"S"),action:oe(U.a,{"aria-label":"settings"},oe(ae.a,null)),title:t.info.name,subheader:t.info.category}),oe(_,{className:a.media,onClick:c,image:"/img/bg/small/storytelling-4203628_640.jpg",title:"Story Image"}),oe(F,null,oe(s.a,{variant:"body2",className:a.desc,color:"textSecondary",component:"p"},t.info.description)),oe(J,{disableSpacing:!0},oe("div",{className:a.btnLeft},oe(U.a,{"aria-label":"delete",onClick:function(){return o(t.id)}},oe(le.a,null))),oe(U.a,{"aria-label":"add to favorites"},oe(B.a,null)),oe(U.a,{"aria-label":"share"},oe(G.a,null)),oe(U.a,{"aria-label":"edit",onClick:function(){return l(t.id)}},oe(re.a,null)),r&&oe(U.a,{className:Object(M.a)(a.expand,Object(g.a)({},a.expandOpen,d)),onClick:function(){u(!d)},"aria-expanded":d,"aria-label":"show more"},oe($.a,null))))},se=n.a.createElement,de=function(e){var a=Object(r.useState)([]),t=a[0],n=a[1],l=e.history;Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("allReactales"))||{};n(p()(e))}),[]);var o=function(e){(l||b.a).push("/edit-tale/[id]","/edit-tale/local-".concat(e))},c=function(e){if(window.confirm("Are you sure you want to delete this local tale. It can not be recovered later (unless you have exported it and import it later)")){var a=JSON.parse(window.localStorage.getItem("allReactales"));delete a[e],window.localStorage.setItem("allReactales",f()(a)),n(p()(a)),alert("Local tale deleted successfully")}};return se(i.a,{py:3},se(h.a,{container:!0,spacing:2},t.map((function(e){return se(h.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:e.id},se(ie,{tale:e,expandable:!1,handleReadTale:function(){return a=e.id,void(l||b.a).push("/preview/[id]","/preview/local-".concat(a));var a},handleEdit:o,handleDelete:c}))}))))},ue=n.a.createElement;a.default=Object(d.b)()((function(e){var a=Object(r.useState)(0),t=a[0],n=a[1];return ue(i.a,{p:2},ue(s.a,{variant:"h4",component:"h1"},"My Tales"),ue(i.a,{mt:2,mb:4,className:"flex-space-between"},ue(s.a,{variant:"subtitle1"},"Here you will find all the tales created by you")),ue(l.a,{square:!0},ue(o.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){n(a)},centered:!0,"aria-label":"tabs to create the story"},ue(c.a,{label:"Local"}),ue(c.a,{label:"Online"}))),ue(i.a,{className:0!==t?"hide":""},ue(de,{history:e.history})),ue(i.a,{className:1!==t?"hide":""}))}))},FrwU:function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.default=l},MPUk:function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");a.default=l},ZuSV:function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");a.default=l},fW1p:function(e,a,t){var r=t("Y7ZC"),n=t("E8gZ")(!1);r(r.S,"Object",{values:function(e){return n(e)}})},nhzr:function(e,a,t){t("fW1p"),e.exports=t("WEpk").Object.values},qlJ3:function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");a.default=l},"z1+X":function(e,a,t){"use strict";var r=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("q1tI")),l=(0,r(t("8/g6")).default)(n.default.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");a.default=l}}]);