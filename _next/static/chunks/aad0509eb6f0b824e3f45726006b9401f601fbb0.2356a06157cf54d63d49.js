(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{fDFK:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),i=a("nOHt"),r=a.n(i),l=a("kKAo"),c=a("dfam"),s=a("JrkS"),d=a("hlFM"),u=a("Z3vd"),p=a("ofer"),m=a("yxaJ"),b=a.n(m),f=a("gT2q"),h=a("r9w1"),g=o.a.createElement,v=function(e){var t=e.isOpen,a=e.handleClose,o=e.setForEditing,i=Object(n.useState)(""),r=i[0],l=i[1];return g(f.a,{isOpen:t,handleClose:a,title:"Import Reactale"},g(p.a,{variant:"body1",gutterBottom:!0},"Import a previously exported Reactale file ",g("b",null,"OR"),' optionally you can paste the text from it if "file import" is not working in your browser'),g(d.a,{mt:2},g("form",{encType:"multipart/form-data"},g("input",{type:"file",accept:"text/txt",name:"files[]",size:"30",onChange:function(e){return function(e){var t=e.target.files[0];console.log(t);var a=new FileReader;a.onload=function(e){return l(e.target.result)},a.readAsText(t)}(e)}}))),g(d.a,{align:"center",my:1},g(p.a,{variant:"h6",gutterBottom:!0},g("b",null,"OR"))),g(d.a,null,g(h.a,{label:"Paste Content Here",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",value:r,onChange:function(e){return l(e.target.value)}})),g(d.a,{mt:2,align:"right"},g(u.a,{size:"small",variant:"contained",color:"primary",onClick:function(){var e=JSON.parse(decodeURIComponent(atob(r)));o(e),l("")}},"Import")))},y=a("hfKm"),x=a.n(y),O=a("2Eek"),C=a.n(O),k=a("XoMD"),w=a.n(k),j=a("Jo+v"),S=a.n(j),N=a("4mXO"),I=a.n(N),E=a("pLtp"),T=a.n(E),R=a("vYYK"),z=a("tRbT"),F=a("/MKj"),B=a("TxL0"),W=o.a.createElement;function A(e,t){var a=T()(e);if(I.a){var n=I()(e);t&&(n=n.filter((function(t){return S()(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(R.a)(e,t,a[t])})):w.a?C()(e,w()(a)):A(Object(a)).forEach((function(t){x()(e,t,S()(a,t))}))}return e}var V=Object(F.b)((function(e){return{info:e.wipTale.info}}),(function(e){return{typingVal:function(t,a,n){return function(e,t,a,n){e({type:B.o,payload:P({},n,Object(R.a)({},t,a))})}(e,t,a,n)}}}))((function(e){var t=e.info,a=e.typingVal;return W(d.a,{py:3},W(z.a,{container:!0,spacing:2},W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Name of Tale",variant:"outlined",value:t.name,onChange:function(e){return a("name",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Genre",variant:"outlined",value:t.genre,onChange:function(e){return a("genre",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Tags",variant:"outlined",value:t.tags,onChange:function(e){return a("tags",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Language",variant:"outlined",value:t.lang,onChange:function(e){return a("lang",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Email",variant:"outlined",value:t.authorEmail,onChange:function(e){return a("authorEmail",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Original Author (if any)",variant:"outlined",placeholder:"Original creator's name",value:t.originalAuthor,onChange:function(e){return a("originalAuthor",e.target.value,t)}})),W(z.a,{item:!0,xs:12,sm:6,md:3},W(h.a,{fullWidth:!0,label:"Custom URL",variant:"outlined",value:t.storyUrl,onChange:function(e){return a("storyUrl",e.target.value,t)}})),W(z.a,{item:!0,xs:12},W(h.a,{label:"Brief description",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",value:t.description,onChange:function(e){return a("description",e.target.value,t)}}))))})),D=a("Ff2n"),H=a("wx14"),q=(a("17x9"),a("iuhU")),L=a("H2TA"),M=a("VD++"),J=a("NqtD"),$=n.forwardRef((function(e,t){var a=e.children,o=e.classes,i=e.className,r=e.color,l=void 0===r?"default":r,c=e.component,s=void 0===c?"button":c,d=e.disabled,u=void 0!==d&&d,p=e.disableFocusRipple,m=void 0!==p&&p,b=e.focusVisibleClassName,f=e.size,h=void 0===f?"large":f,g=e.variant,v=void 0===g?"round":g,y=Object(D.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return n.createElement(M.a,Object(H.a)({className:Object(q.a)(o.root,i,"round"!==v&&o.extended,"large"!==h&&o["size".concat(Object(J.a)(h))],u&&o.disabled,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[l]),component:s,disabled:u,focusRipple:!m,focusVisibleClassName:Object(q.a)(o.focusVisible,b),ref:t},y),n.createElement("span",{className:o.label},a))})),U=Object(L.a)((function(e){return{root:Object(H.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})($),G=a("R/WZ"),K=a("ODXe"),X=a("yCxk"),Y=a("EHdT"),_=a("PsDL"),Z=n.forwardRef((function(e,t){var a=e.autoFocus,o=e.checked,i=e.checkedIcon,r=e.classes,l=e.className,c=e.defaultChecked,s=e.disabled,d=e.icon,u=e.id,p=e.inputProps,m=e.inputRef,b=e.name,f=e.onBlur,h=e.onChange,g=e.onFocus,v=e.readOnly,y=e.required,x=e.tabIndex,O=e.type,C=e.value,k=Object(D.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),w=Object(X.a)({controlled:o,default:Boolean(c),name:"SwitchBase"}),j=Object(K.a)(w,2),S=j[0],N=j[1],I=Object(Y.a)(),E=s;I&&"undefined"===typeof E&&(E=I.disabled);var T="checkbox"===O||"radio"===O;return n.createElement(_.a,Object(H.a)({component:"span",className:Object(q.a)(r.root,l,S&&r.checked,E&&r.disabled),disabled:E,tabIndex:null,role:void 0,onFocus:function(e){g&&g(e),I&&I.onFocus&&I.onFocus(e)},onBlur:function(e){f&&f(e),I&&I.onBlur&&I.onBlur(e)},ref:t},k),n.createElement("input",Object(H.a)({autoFocus:a,checked:o,defaultChecked:c,className:r.input,disabled:E,id:T&&u,name:b,onChange:function(e){var t=e.target.checked;N(t),h&&h(e,t)},readOnly:v,ref:m,required:y,tabIndex:x,type:O,value:C},p)),S?i:d)})),Q=Object(L.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(Z),ee=a("As0B"),te=Object(ee.a)(n.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ae=Object(ee.a)(n.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),ne=a("ye/S"),oe=Object(ee.a)(n.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),ie=n.createElement(ae,null),re=n.createElement(te,null),le=n.createElement(oe,null),ce=n.forwardRef((function(e,t){var a=e.checkedIcon,o=void 0===a?ie:a,i=e.classes,r=e.color,l=void 0===r?"secondary":r,c=e.icon,s=void 0===c?re:c,d=e.indeterminate,u=void 0!==d&&d,p=e.indeterminateIcon,m=void 0===p?le:p,b=e.inputProps,f=e.size,h=void 0===f?"medium":f,g=Object(D.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return n.createElement(Q,Object(H.a)({type:"checkbox",classes:{root:Object(q.a)(i.root,i["color".concat(Object(J.a)(l))],u&&i.indeterminate),checked:i.checked,disabled:i.disabled},color:l,inputProps:Object(H.a)({"data-indeterminate":u},b),icon:n.cloneElement(u?m:s,{fontSize:"small"===h?"small":"default"}),checkedIcon:n.cloneElement(u?m:o,{fontSize:"small"===h?"small":"default"}),ref:t},g))})),se=Object(L.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ne.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ne.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(ce),de=a("IP2g"),ue=a("wHSu"),pe=o.a.createElement,me=Object(G.a)((function(e){return{choiceBox:{position:"relative",margin:e.spacing(1),flexGrow:1},selectChoice:{position:"absolute",top:-e.spacing(1),left:-e.spacing(1)},choiceText:{width:"100%","& > div":{paddingTop:30}},idTag:{fontSize:13,display:"inline-block",backgroundColor:"#eee",padding:"1px 5px",borderRadius:2,position:"absolute",top:e.spacing(.5),left:e.spacing(3.5)},btnPanel:{position:"absolute",top:0,right:0,zIndex:9,"& .ico":{boxSizing:"content-box",padding:"3px 5px",color:e.palette.primary.main,cursor:"pointer",verticalAlign:"middle",fontSize:16,display:"inline-block",height:15,width:20},"& .ico:active":{backgroundColor:"#eee"}}}})),be=Object(F.b)(null,(function(e){return{typingChoiceText:function(t,a){return function(e,t,a){e({type:B.d,payload:{cID:t,value:a}})}(e,t,a)},handleSelection:function(t,a,n,o,i){return function(e,t,a,n,o){t=a?t:"",e({type:B.g,payload:{sbI:n,cID:t}}),e({type:B.f,payload:{sbI:n,nextStID:o,isRemoveOnly:!a}})}(e,a,n,o,i)}}}))((function(e){var t=me(),a=e.c,n=e.stID,o=e.sbI;return pe(d.a,{className:t.choiceBox},pe("div",{className:t.idTag},pe("span",null,"ID: ",a.id)),pe("div",{className:t.btnPanel},pe(de.a,{icon:ue.e,className:"ico"})),pe(h.a,{placeholder:"Enter choice text here",multiline:!0,rows:"3",variant:"outlined",className:t.choiceText,value:a.text,onChange:function(t){return e.typingChoiceText(a.id,t.target.value)}}),pe(se,{checked:e.isSelected,onChange:function(t){return e.handleSelection(n,a.id,t.target.checked,o,a.next)},value:"primary",className:t.selectChoice,inputProps:{"aria-label":"primary checkbox"}}))})),fe=a("iUGO"),he=a.n(fe),ge=a("kOwS"),ve=o.a.createElement,ye=Object(G.a)((function(e){var t;return{root:(t={fontFamily:"Georgia, serif",fontSize:20,fontWeight:"bold",display:"inline-block",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},Object(R.a)(t,"display","inline-flex !important"),Object(R.a)(t,"flexDirection","column"),Object(R.a)(t,"justifyContent","center"),Object(R.a)(t,"width","42px !important"),Object(R.a)(t,"padding","15px 0 !important"),t)}})),xe=function(e){var t=ye(),a=e.className;return ve("span",Object(ge.a)({},e,{className:Object(q.a)(a,t.root)}),"((r))")},Oe=a("cthl"),Ce=a("Yb7a"),ke=o.a.createElement,we=Object(G.a)((function(e){return{textField:{display:"flex",marginTop:e.spacing(2)},box:{border:"5px double ".concat(Ce.a[500]),borderRadius:4,position:"relative"},title:{border:"5px double ".concat(Ce.a[500]),position:"absolute",background:"#fff",padding:"0 5px",borderRadius:4,top:-20,left:8,fontSize:14},joiner:{position:"absolute",height:e.spacing(5),borderLeft:"5px double ".concat(Ce.a[500]),width:1,left:"50%",top:-45},choiceContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},addChoiceBtn:{alignSelf:"center",height:90,borderRadius:6,margin:"0 ".concat(e.spacing(1),"px"),textAlign:"center",fontSize:16,lineHeight:" 20px","& span":{display:"block"},"& svg":{fontSize:36}},idTag:{fontSize:14,display:"inline-block",backgroundColor:"#eee",padding:"2px 5px",borderRadius:2,"& .ico":{}},btnPanel:{position:"absolute",top:0,right:0,"& .ico":{boxSizing:"content-box",padding:"15px 8px",color:e.palette.primary.main,cursor:"pointer",verticalAlign:"middle",fontSize:18,display:"inline-block",width:30,height:20},"& .ico:active":{backgroundColor:"#eee"}}}})),je=Object(F.b)((function(e){return{choices:e.wipTale.choices}}),(function(e){return{typingStValue:function(t,a,n){return function(e,t,a,n){n({type:B.k,payload:{stID:e,fieldName:t,value:a}})}(t,a,n,e)},createAChoice:function(t){return e(Object(Oe.a)(t))}}}))((function(e){var t=we(),a=e.st,n=e.sbI,o=e.sbItem,i=e.createAChoice,r=e.choices,l=e.openFSE;return ke("div",null,ke(d.a,{className:t.box,px:1,pb:2,pt:2},0!==n&&ke("span",{className:t.joiner}),ke("span",{className:t.title},"Storylet"),ke("div",{className:t.idTag},ke("span",null,"ID: ",a.id)),ke("div",{className:t.btnPanel},ke(de.a,{icon:ue.e,className:"ico"}),ke(xe,{className:"ico"}),ke(de.a,{icon:ue.a,className:"ico"}),ke(de.a,{icon:ue.d,className:"ico",title:"Edit this Storylet",onClick:function(){return l(a)}})),ke("form",{noValidate:!0,autoComplete:"off"},ke(h.a,{label:"Storylet title",variant:"outlined",className:t.textField,value:a.title,onChange:function(t){return e.typingStValue(a.id,"title",t.target.value)}}),ke(h.a,{label:"Storylet body",multiline:!0,rows:"6",variant:"outlined",className:t.textField,value:a.text,onChange:function(t){return e.typingStValue(a.id,"text",t.target.value)}}))),ke(d.a,{className:t.box,pt:2,pb:2,my:5},ke("span",{className:t.joiner}),ke("span",{className:t.title},"Choices"),ke("div",{className:t.choiceContainer},a.choices&&a.choices.map((function(e){return ke(be,{c:r[e],stID:a.id,sbI:n,isSelected:o.selectedCID===e,key:e})})),ke(U,{className:t.addChoiceBtn,variant:"extended",color:"primary",onClick:function(){return i(e.st.id)}},ke(he.a,null),ke("span",{className:"txt"},"Add Choice")))))})),Se=a("9g+P"),Ne=o.a.createElement,Ie=Object(F.b)((function(e){return{storyboard:e.wipTale.storyboard,storylets:e.wipTale.storylets}}))((function(e){var t=Object(n.useState)({}),a=t[0],o=t[1],i=function(e){console.log(e),o({component:e,isVisible:!0})};return Ne(d.a,{py:3},e.storyboard&&e.storyboard.map((function(t,a){var n=e.storylets[t.stID];return Ne(je,{st:n,key:t.stID,sbI:a,sbItem:t,openFSE:i})})),Ne(Se.a,{isOpen:a.isVisible,handleClose:function(){return o({})},component:a.component}))})),Ee=a("9Jkg"),Te=a.n(Ee);function Re(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=T()(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(I.a){var i=I()(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var ze=a("Ji2X"),Fe=o.a.createElement,Be=function(e){var t=e.isOpen,a=e.handleClose,n=e.expTaleContent,i=o.a.createRef();return Fe(f.a,{isOpen:t,handleClose:a,title:"Export Reactale"},Fe(p.a,{variant:"body1",gutterBottom:!0},"Copy this text and paste it in a text file in case file download is not working (e.g. in mobile browsers)"),Fe(d.a,{my:3},Fe(h.a,{label:"Outlined",variant:"outlined",value:n,fullWidth:!0,ref:i})),Fe(u.a,{variant:"outlined",color:"primary",onClick:function(){return function(e){console.log(e);var t=e.current.getElementsByTagName("input").item(0);t.select(),t.setSelectionRange(0,999999999),document.execCommand("copy"),setTimeout((function(){alert("Text copied to clipboard ...")}),0)}(i)}},"Copy Reactale Text"))},We=a("30+C"),Ae=o.a.createElement,Pe=Object(G.a)((function(e){return{root:{padding:"8px 16px",height:"100%",display:"flex",flexDirection:"column",maxWidth:300,margin:"10px auto",borderTop:"5px solid ".concat(e.palette.primary.main),"& .fillmid":{flexGrow:1,marginBottom:10},"& .fillmid li":{margin:"8px 0",listStyle:"number",borderLeft:"2px solid #d50000"}}}})),Ve=function(e){var t=Pe();Ae("span",{className:t.bullet},"\u2022");return Ae(We.a,{className:t.root},e.children)},De=(a("7BOp"),{exportTale:{features:["Export Reactale as both Text and File","Exported Reactale can be imported and worked on","Can be shared easily with reviewers and collaborator","Works offline (Internet not required)"]},saveLocal:{features:["Will be saved in this device's memory","Will not be available in other devices","Great choice if you use this device only for writing Reactale","Works offline (Internet not required)"]},saveOnline:{features:["Will be saved online in your logged in account","Availabe accross any device you login from","Great choice if you work from multiple devices","Internet is mandatory"]}}),He=o.a.createElement;var qe=Object(F.b)((function(e){return{wipTale:e.wipTale}}))((function(e){var t=e.wipTale,a=Object(n.useState)(!1),o=a[0],i=a[1],r=Object(n.useState)(""),l=r[0],c=r[1],s=function(){t.storyboard;return Re(t,["storyboard"])},p=function(){var e="";for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=window.localStorage[t]);return e?3+16*e.length/8192+" KB":"Empty (0 KB)"};return He(d.a,{py:1},He(Be,{isOpen:o,handleClose:function(){return i(!1)},expTaleContent:l}),He(ze.a,{maxWidth:"md"},He(z.a,{container:!0,spacing:2},He(z.a,{item:!0,xs:12,sm:4},He(Ve,null,He("h2",null,"Export Reactale"),"Export this reactale",He("h3",null,"Feature"),He("ul",{className:"fillmid"},De.exportTale.features.map((function(e){return He("li",{key:e},e)}))),He(u.a,{variant:"outlined",color:"primary",className:"margin-right-15 margin-top-15",onClick:function(){var e=s();console.log(e);var t=btoa(encodeURIComponent(Te()(e)));!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}("".concat(e.info.name,"_").concat(e.id,".txt"),t),c(t),i(!0)}},"Export Reactale"))),He(z.a,{item:!0,xs:12,sm:4},He(Ve,null,He("h2",null,"Save Offline"),"Save this reactale offline in local device",He("h3",null,"Feature"),He("ul",{className:"fillmid"},De.saveLocal.features.map((function(e){return He("li",{key:e},e)}))),He(u.a,{variant:"outlined",color:"primary",className:"margin-right-15 margin-top-15",onClick:function(){var e=s(),t=JSON.parse(window.localStorage.getItem("allReactales"))||{};t[e.id]=e,window.localStorage.setItem("allReactales",Te()(t)),alert("Saved succesfully. "+p())}},"Save Offline"))),He(z.a,{item:!0,xs:12,sm:4},He(Ve,null,He("h2",null,"Save Online"),"Save this reactale online",He("h3",null,"Feature"),He("ul",{className:"fillmid"},De.saveOnline.features.map((function(e){return He("li",{key:e},e)}))),He(u.a,{variant:"outlined",color:"primary",className:"margin-top-15",onClick:function(){var e=s();fetch("http://localhost/reactalev2/rtale/api/v2/createstory.php",{method:"POST",body:Te()(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},"Save Online"))))))})),Le=a("Xcx1"),Me=o.a.createElement;t.a=Object(F.b)((function(e){return{id:e.wipTale.id}}),(function(e){return{createNewTale:function(){return e(Object(Oe.b)())},saveAndResetAll:function(){return e(Object(Oe.c)())},setTaleAsWIP:function(t){return e(Object(Oe.d)(t))}}}))((function(e){var t=Object(i.useRouter)(),a=Object(n.useState)(0),o=a[0],m=a[1],f=Object(n.useState)("Create"),h=f[0],g=f[1],y=Object(n.useState)(!1),x=y[0],O=y[1],C=e.id,k=e.createNewTale,w=e.saveAndResetAll,j=e.match,S=e.setTaleAsWIP,N=e.history,I=Object(n.useCallback)((function(){var e=t?t.query.id:j.params.id;if(e&&e.indexOf("local")>=0){e=e.trim().replace("local-","");var a=(JSON.parse(window.localStorage.getItem("allReactales"))||{})[e];S(a)}}),[j,S,t]);return Object(n.useEffect)((function(){var e=t?t.asPath:j.url;return"/create-tale"!==e||C?Object(Le.b)(e,"/edit-tale/current")?console.log("back from TalesFlow"):Object(Le.b)(e,"/edit-tale/")?(g("Edit"),I()):console.log("inside create-edit... else case..."):k(),function(){console.log("Leaving Story Create Page... Now is a good time to save changes so far...")}}),[C,k,w,j,I]),Me(d.a,{py:2},Me(p.a,{variant:"h4",component:"h1"},h," Reactale"),Me(d.a,{mt:2,mb:4,className:"flex-space-between"},Me(p.a,{variant:"subtitle1"},h," a Reactale or import one to edit it."),Me(d.a,null,Me(u.a,{variant:"contained",color:"primary",className:"margin-right-15 margin-top-15",onClick:function(){return O(!0)}},"Import Reactale"),Me(u.a,{variant:"contained",color:"primary",className:"margin-top-15",startIcon:Me("span",{className:"talesflowicon"},Me(b.a,null)),onClick:function(){return e="/tales-flow",r.a?r.a.push(e):N.push(e);var e}},"TalesFlow"))),Me(l.a,{square:!0},Me(c.a,{value:o,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){m(t)},centered:!0,"aria-label":"tabs to create the story"},Me(s.a,{label:"Intro"}),Me(s.a,{label:"Body"}),Me(s.a,{label:"Finish"}))),Me(d.a,{className:0!==o?"hide":""},Me(V,null)),Me(d.a,{className:1!==o?"hide":""},Me(Ie,null)),Me(d.a,{className:2!==o?"hide":""},Me(qe,null)),Me(v,{isOpen:x,handleClose:function(){return O(!1)},setForEditing:function(e){S(e),O(!1)}}))}))},yxaJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("q1tI")),i=(0,n(a("8/g6")).default)(o.default.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");t.default=i}}]);